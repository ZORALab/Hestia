+++
date = "2022-07-19T14:52:49+08:00"
title = "Post-Processing/Thumbnail - HestiaHUGO's Internal Partial Function"
description = """
HestiaHUGO's internal partial functions responsible for post-processing Hestia
Thumbnail data right after parsing from Hugo data structure. This is its
technical specification intended for future maintenances and development usage.
"""
Keywords = [
	"Thumbnail",
	"Post-Processing",
	"Data",
	"Functions",
	"Hestia",
	"Partials",
	"Layouts",
	"Specifications",
	"HestiaHUGO",
	"ZORALab's Hestia",
	"Official Website",
	"ZORALab Enterprise",
	"ZORALab",
]
draft = false
layout = "single"

[menu.main]
parent = "Hestia's Partial Functions"
identifer = "hestiahugo-layouts-partials-hestia-functions-data-post-processing-thumbnail"
name = "Post-Processing/Thumbnail"
Pre = ""
weight = 1
+++

<section id="introduction">
	<h1>{{% param "title" %}}</h1>
	<p>
		{{% param "description" %}}
	</p>
</section>




<section id="objective-and-purposes">
	<h2>Objective and Purposes</h2>
	<p>
		The primary objective is to process a given Hestia's Page
		Thumbnail data into its final form, ready for use.
	</p>
</section>




<section id="how-it-works">
	<h2>How It Works</h2>
	<p>
		By default, the algorithm process each fields of a given
		Thumbnail and guess its <code>Media</code> content if it's
		not specified based on its MIME <code>Type</code>. Should
		<code>Media</code> is unavailable, the function shall raise an
		error. The final output of each fields are the finalized value
		ready for publications. Lastly, the function returns the
		processed Thumbnail data structure as its output.
	</p>


	<section id="input">
		<h3>Input</h3>
		<p>
			This partial function accepts the following inputs:
			<ul>
				<li><p>
					<b><code>.Page</b></code> - required
					Hestia Page data structure.
				</p></li>
				<li><p>
					<b><code>.Input.URL</b></code> -
					the thumbnail's source URL.
				</p></li>
				<li><p>
					<b><code>.Input.AltText</b></code> -
					the thumbnail's alternate text.
				</p></li>
				<li><p>
					<b><code>.Input.Type</b></code> -
					the thumbnail's MIME type.
				</p></li>
				<li><p>
					<b><code>.Input.Width</b></code> -
					the thumbnail's display width.
				</p></li>
				<li><p>
					<b><code>.Input.Height</b></code> -
					the thumbnail's display width.
				</p></li>
				<li><p>
					<b><code>.Input.Media</b></code> -
					the thumbnail's media type.
				</p></li>
			</ul>
		</p>
	</section>


	<section id="algorithm">
		<h3>Working Algorithm</h3>
		<p>
			This partial function works in the following manner:
			<ol>
				<li><p>
					Process the <code>.Input.URL</code> with
					<a href="{{< Hestia/url
						URL="/specs/hestiahugo/layouts/partials/hestia/shortcodes/url"
						Lang="en"
					/>}}">
					Hestia URL</a> Partial Shortcode.
				</p></li>
				<li><p>
					Process the <code>.Input.AltText</code>
					with <a href="{{< Hestia/url
						URL="/specs/hestiahugo/layouts/partials/hestia/functions/data/scan/gotemplatefunction/"
						Lang="en"
					/>}}">
					Hestia GoTemplateFunction Data
					Scanner</a> partial function.
				</p></li>
				<li><p>
					Copy <code>.Input.Type</code> field.
				</p></li>
				<li><p>
					Copy <code>.Input.Width</code> field.
				</p></li>
				<li><p>
					Copy <code>.Input.Height</code> field.
				</p></li>
				<li><p>
					Analyze the given
					<code>.Input.Media</code> value and
					locked it to only <code>image</code>,
					<code>video</code>, or
					<code>audio</code>. If invalid, it tries
					to guess from <code>.Input.Type</code>
					value. Otherwise, the field shall be
					empty, error is raised, and thumbnail
					is discarded as the result.
				</p></li>
			</ol>
		</p>
	</section>


	<section id="output">
		<h3>Output</h3>
		<p>
			This function returns all the following possible
			outputs:
		</p>
		<ul>
			<li><p>
				<code>OK</code> - The thumbnail data has been
				successfully processed.
			</p></li>
			<li><p>
				<code>ERROR - bad media type</code> -
				given thumbnail data's <code>Media</code> field
				is undeterminable. The return output shall be
				empty for discarding purposes.
			</p></li>
		</ul>
	</section>


	<section id="known-issues">
		<h3>Known Issues</h3>
		<p>
			Here are some of the known issues:
		</p>
		<ul>
			<li><p>
				None identified.
			</p></li>
		</ul>
	</section>
</section>




<section id="usage">
	<h2>Usage</h2>
	<p>
		To use such console output, assuming the Page context is a
		processed Hestia data structure, here is an example:
	</p>
{{% highlight html "linenos=table,hl_lines=,linenostart=1" %}}
{{- $Page := . -}}
{{- $dataList := slice -}}

{{- range $i, $v := .Thumbnails -}}
	{{- $ret = merge $Page (dict "Input" $v) -}}
	{{- $ret = partial "Hestia/functions/data/post-processing/Thumbnail" $ret -}}
	{{- if $ret -}}
		{{- $dataList = append $dataList (slice $ret) -}}
	{{- end -}}
{{- end -}}

{{- $dataList = merge . (dict "Thumbnails" $dataList) -}}
{{% /highlight %}}
</section>




<section id="epilogue">
	<h2>Epilogue</h2>
	<p>
		That's all for {{% param "title" %}}.
	</p>
</section>
