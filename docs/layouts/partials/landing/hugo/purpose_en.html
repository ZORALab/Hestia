{{- $Page := . -}}
{{- $thumbnail := "" -}}
{{- $fallback := "" -}}
{{- $description := "" -}}
{{- $action := "" -}}




<div class='row' style='--grid-column-max-width:200px;'>
{{- range $i, $v := .Data.Page.Purpose }}
	{{- $thumbnail = merge $Page (dict "Input" (dict "URL" $v.Thumbnail)) -}}
	{{- $thumbnail = partial "Hestia/functions/data/url/Init" $thumbnail -}}
	{{- if $thumbnail.Console -}}
		{{- $thumbnail = "" -}}
	{{- else -}}
		{{- $thumbnail = string $thumbnail.Output -}}
	{{- end -}}


	{{- $fallback = merge $Page (dict "Input" (dict "URL" $v.Fallback)) -}}
	{{- $fallback = partial "Hestia/functions/data/url/Init" $fallback -}}
	{{- if $fallback.Console -}}
		{{- $fallback = "" -}}
	{{- else -}}
		{{- $fallback = string $fallback.Output -}}
	{{- end -}}


	{{- $action = merge $Page (dict "Input" (dict "URL" $v.Action)) -}}
	{{- $action = partial "Hestia/functions/data/url/Init" $action -}}
	{{- if $action.Console -}}
		{{- $action = "" -}}
	{{- else -}}
		{{- $action = string $action.Output -}}
	{{- end -}}


	<div class='column'>
		<picture>
			<source width='200' height='200' type='{{- $v.ThumbnailType -}}'
				srcset='{{- $thumbnail -}}' />
			<source width='200' height='200' type='image/jpeg'
				srcset='{{- $fallback -}}' />
			<img width='200' height='200' alt='{{- $v.Name -}}'
				src='{{- $fallback -}}' />
		</picture>
		<h3 style='margin-top:0;'>{{- $v.Name -}}</h3>
		<p>{{- $v.Description -}}</p>
		{{- if $action }}
		<br/>
		<a href='{{- $action -}}' class='button' target='_blank'>{{- $v.Label -}}</a>
		{{- end }}
	</div>
{{- end }}
</div>
