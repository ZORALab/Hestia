{{- /* prepare variables for function */ -}}
{{- $Page := partial "Hestia/functions/data/Clean" . -}}
{{- $dataList := dict -}}
{{- $list := slice -}}
{{- $keys := .Data.Page.i18n -}}
{{- $data := dict -}}
{{- $ret := false -}}




{{- /* execute functon */ -}}
{{- $dataList = merge $dataList (dict $keys.Title .Titles.Page) -}}
{{- $dataList = merge $dataList (dict $keys.Pitch .Descriptions.Page.Pitch) -}}


{{- $list = slice -}}
{{- range $i, $v := .Data.Page.Business -}}
	{{- $data = dict $keys.Reason $v.Reason -}}
	{{- $ret = strings.TrimRight "\n" $v.Description -}}
	{{- $data = merge $data (dict $keys.Description $ret) -}}
	{{- $ret = strings.TrimRight "\n" $v.Outcome -}}
	{{- $data = merge $data (dict $keys.Outcome $ret) -}}
	{{- $list = append $data $list -}}
{{- end -}}
{{- $dataList = merge $dataList (dict $keys.Business $list) -}}


{{- $list = slice -}}
{{- range $i, $v := .Data.Page.Purpose -}}
	{{- $data = dict $keys.Name $v.Name -}}

	{{- $ret = $v.Label -}}
	{{- if not $ret -}}
		{{- $ret = "" -}}
	{{- end -}}
	{{- $data = merge $data (dict $keys.Type $ret) -}}

	{{- $ret = merge $Page (dict "Input" (dict "URL" $v.Action)) -}}
	{{- $ret = partial "Hestia/functions/data/url/Init" $ret -}}
	{{- $ret = string $ret.Output -}}
	{{- $data = merge $data (dict $keys.Value $ret) -}}

	{{- $list = append $data $list -}}
{{- end -}}
{{- $dataList = merge $dataList (dict $keys.Purpose $list) -}}




{{- /* render json */ -}}
{{- jsonify $dataList -}}
