{{- /* INPUT PARAMETERS */ -}}
{{- /* .  = Hugo data  */ -}}




{{- /* prepare working variables for this function */ -}}
{{- $dataList := dict -}}
{{- $list := dict -}}
{{- $ret := false -}}




{{- /* obtain list of alternative formats  */ -}}
{{- $list = dict -}}
{{- range $format := .Page.AlternativeOutputFormats -}}
	{{- $ret = partial "Hestia/functions/data/hugo/parse/OutputFormat" $format -}}
	{{- $list = merge $list (dict $ret.Name $ret) -}}
{{- end -}}
{{- $dataList = merge $dataList (dict "Alternatives" $list) -}}




{{- /* scan for current and all output formats */ -}}
{{- $ret = false -}}
{{- $list = dict -}}
{{- range $format := .Page.OutputFormats -}}
	{{- $ret = partial "Hestia/functions/data/hugo/parse/OutputFormat" $format -}}


	{{- if not (index $dataList.Alternatives $format.Name) -}}
		{{- $dataList = merge $dataList (dict "Current" $ret) -}}
	{{- end -}}


	{{- $list = merge $list (dict $ret.Name $ret) -}}
{{- end -}}
{{- $dataList = merge $dataList (dict "List" $list) -}}




{{- /* render output */ -}}
{{- $dataList = dict "Formats" $dataList -}}
{{- return $dataList -}}
